<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="app/fragments/head :: head"></head>
<body>
	<header><nav th:replace="app/fragments/menu :: menu"></nav></header>
	<div class="container-fluid">
		<div class="row flex-fill">

			<div th:replace="app/fragments/accountsNavigation :: accounts"></div>
			
			<div class="col-6">
				<div class="btn-toolbar justify-content-between mt-3" role="toolbar" aria-label="Toolbar with button groups">
					<div class="me-2">
						<button type="button" class="btn btn-outline-primary btn-sm me-1"><i class="bi bi-plus-circle"></i> Add Category Group</button>
						<button type="button" class="btn btn-outline-primary btn-sm me-1"><i class="bi bi-plus-circle"></i> Add Category</button>
						<button type="button" class="btn btn-outline-primary btn-sm me-1"><i class="bi bi-pencil"></i> Edit</button>
					</div>
					<div class="btn-group ms-2" role="group">
						<button type="button" class="btn btn-outline-primary btn-sm"><i class="bi bi-chevron-left"></i></button>
						<div class="btn-group" role="group">
							<button id="btnGroupDropMonth" type="button" class="btn btn-primary btn-sm dropdown-toggle text-uppercase" data-bs-toggle="dropdown" aria-expanded="false" th:text="${#dates.format(mth.mthMonth, 'MMM YYYY')}"></button>
							<ul class="dropdown-menu" aria-labelledby="btnGroupDropMonth">
								<th:block th:each="mthItem : ${mthList}">
									<li th:if="${mthItem.mthMonth == dateNow}"><hr class="dropdown-divider"></li>
									<li>
										<a class="dropdown-item" 
												th:href="@{/app/{bdgUUID}/budget/{strMonth}(bdgUUID=${bdg.bdgUUID},strMonth=${#dates.format(mthItem.mthMonth, 'YYYYMM')})}" 
												th:classappend="${mthItem.mthMonth == mth.mthMonth}? 'active'">
											<small class="text-uppercase" th:text="${#dates.format(mthItem.mthMonth, 'MMM YYYY')}"></small>
										</a>
									</li>
									<li th:if="${mthItem.mthMonth == dateNow}"><hr class="dropdown-divider"></li>
								</th:block>
								<li><hr class="dropdown-divider"></li>
								<li><a class="dropdown-item" href="#">History</a></li>
							</ul>
						</div>
						<button type="button" class="btn btn-outline-primary btn-sm"><i class="bi bi-chevron-right"></i></button>
					</div>
					
					<!--  
					<div class="input-group ms-2">
						<input type="text" class="form-control form-control-sm" id="example1" aria-describedby="basic-addon2">
						<div class="input-group-text" id="basic-addon2"><i class="bi bi-calendar3"></i></div>
					</div>
					-->
				</div>

				<div class="card mt-3">
					<div class="card-body py-1">
						<table class="table table-sm table-borderless m-0">
							<thead>
								<tr>
									<th></th>
									<th class="col-4 text-secondary" scope="col"></th>
									<th class="col-2 text-secondary text-end" scope="col"><small>Income</small></th>
									<th class="col-2 text-secondary text-end" scope="col"><small>Budgeted</small></th>
									<th class="col-2 text-secondary text-end" scope="col"><small>Activity</small></th>
									<th class="col-2 text-secondary text-end" scope="col"><small>To Be Budget</small></th>
									<th></th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td></td>
									<td class="col-4"></td>
									<td class="col-2" align="right" th:text="${bdg.bdgCurrencyPlacement == 1 ? bdg.bdgCurrency.ccySymbol + ' ' : ''} + ${#numbers.formatDecimal(mth.mthIncome, 1, bdg.bdgNumberFormat.bdgnGroupSeparatorText, bdg.bdgNumberFormat.bdgnDecimalDigits, bdg.bdgNumberFormat.bdgnDecimalSeparatorText)} + ${bdg.bdgCurrencyPlacement == 2 ? ' ' + bdg.bdgCurrency.ccySymbol : ''}" th:classappend="${mth.mthToBeBudgeted < 0 ? 'text-danger fw-bold' : 'text-success fw-bold'}"></td>
									<td class="col-2" align="right" th:text="${bdg.bdgCurrencyPlacement == 1 ? bdg.bdgCurrency.ccySymbol + ' ' : ''} + ${#numbers.formatDecimal(mth.mthBudgeted, 1, bdg.bdgNumberFormat.bdgnGroupSeparatorText, bdg.bdgNumberFormat.bdgnDecimalDigits, bdg.bdgNumberFormat.bdgnDecimalSeparatorText)} + ${bdg.bdgCurrencyPlacement == 2 ? ' ' + bdg.bdgCurrency.ccySymbol : ''}" th:classappend="${mth.mthToBeBudgeted < 0 ? 'text-danger fw-bold' : 'text-success fw-bold'}"></td>
									<td class="col-2" align="right" th:text="${bdg.bdgCurrencyPlacement == 1 ? bdg.bdgCurrency.ccySymbol + ' ' : ''} + ${#numbers.formatDecimal(mth.mthActivity, 1, bdg.bdgNumberFormat.bdgnGroupSeparatorText, bdg.bdgNumberFormat.bdgnDecimalDigits, bdg.bdgNumberFormat.bdgnDecimalSeparatorText)} + ${bdg.bdgCurrencyPlacement == 2 ? ' ' + bdg.bdgCurrency.ccySymbol : ''}" th:classappend="${mth.mthToBeBudgeted < 0 ? 'text-danger fw-bold' : 'text-success fw-bold'}"></td>
									<td class="col-2" align="right" th:text="${bdg.bdgCurrencyPlacement == 1 ? bdg.bdgCurrency.ccySymbol + ' ' : ''} + ${#numbers.formatDecimal(mth.mthToBeBudgeted, 1, bdg.bdgNumberFormat.bdgnGroupSeparatorText, bdg.bdgNumberFormat.bdgnDecimalDigits, bdg.bdgNumberFormat.bdgnDecimalSeparatorText)} + ${bdg.bdgCurrencyPlacement == 2 ? ' ' + bdg.bdgCurrency.ccySymbol : ''}" th:classappend="${mth.mthToBeBudgeted < 0 ? 'text-danger fw-bold' : 'text-success fw-bold'}"></td>
									<td></td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
 				
				<div class="card mt-3" th:unless="${#lists.isEmpty(mthcCreditCardListPayments)}">
					<div class="card-header py-2"><strong>Credit Card Payments</strong></div>
					<div class="card-body py-1">
						<table class="table table-sm table-borderless m-0">
							<thead>
								<tr>
									<th></th>
									<th class="col-6 text-secondary" scope="col"><small>Category</small></th>
									<th class="col-2 text-secondary text-end" scope="col"><small>Budgeted</small></th>
									<th class="col-2 text-secondary text-end" scope="col"><small>Activity</small></th>
									<th class="col-2 text-secondary text-end" scope="col"><small>Balance</small></th>
									<th></th>
								</tr>
							</thead>
							<tbody>
								<tr th:each="mthc : ${mthcCreditCardListPayments}" th:object="${mthc}">
									<td width="25" class="align-middle"><a href="#"><small><i class="bi bi-pencil-fill"></i></small></a></td>
									<td nowrap class="col-6"><a class="text-decoration-none" href="#"><span th:text="${mthc.mthcCategory.catName}"></span></a> <i class="bi bi-arrow-up-short text-secondary text-opacity-25"></i><i class="bi bi-arrow-down-short text-secondary text-opacity-25"></i></td>
									<td nowrap class="col-2" align="right" th:text="${bdg.bdgCurrencyPlacement == 1 ? bdg.bdgCurrency.ccySymbol + ' ' : ''} + ${#numbers.formatDecimal(mthc.mthcBudgeted, 1, bdg.bdgNumberFormat.bdgnGroupSeparatorText, bdg.bdgNumberFormat.bdgnDecimalDigits, bdg.bdgNumberFormat.bdgnDecimalSeparatorText)} + ${bdg.bdgCurrencyPlacement == 2 ? ' ' + bdg.bdgCurrency.ccySymbol : ''}"></td>
									<td nowrap class="col-2" align="right" th:text="${bdg.bdgCurrencyPlacement == 1 ? bdg.bdgCurrency.ccySymbol + ' ' : ''} + ${#numbers.formatDecimal(mthc.mthcActivity, 1, bdg.bdgNumberFormat.bdgnGroupSeparatorText, bdg.bdgNumberFormat.bdgnDecimalDigits, bdg.bdgNumberFormat.bdgnDecimalSeparatorText)} + ${bdg.bdgCurrencyPlacement == 2 ? ' ' + bdg.bdgCurrency.ccySymbol : ''}"></td>
									<td nowrap class="col-2" align="right" th:text="${bdg.bdgCurrencyPlacement == 1 ? bdg.bdgCurrency.ccySymbol + ' ' : ''} + ${#numbers.formatDecimal(mthc.mthcBalance, 1, bdg.bdgNumberFormat.bdgnGroupSeparatorText, bdg.bdgNumberFormat.bdgnDecimalDigits, bdg.bdgNumberFormat.bdgnDecimalSeparatorText)} + ${bdg.bdgCurrencyPlacement == 2 ? ' ' + bdg.bdgCurrency.ccySymbol : ''}" th:classappend="${mthc.mthcBalance < 0 ? 'text-danger fw-bold' : ''}"></td>
								</tr>
								<tr th:if="${#lists.isEmpty(mthcCreditCardListPayments)}" class="text-secondary">
									<td>No categories.</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
				
				<div class="card mt-3" th:each="catg : ${catgList}">
					<div class="card-header"><strong th:text="${catg.catgName}"></strong>  <i class="bi bi-arrow-up-short text-secondary text-opacity-50"></i><i class="bi bi-arrow-down-short text-secondary text-opacity-50"></i></div>
					<div class="card-body py-1">
						<table class="table table-sm table-borderless m-0">
							<thead>
								<tr>
									<th></th>
									<th class="col-6 text-secondary" scope="col"><small>Category</small></th>
									<th class="col-2 text-secondary text-end" scope="col"><small>Budgeted</small></th>
									<th class="col-2 text-secondary text-end" scope="col"><small>Activity</small></th>
									<th class="col-2 text-secondary text-end" scope="col"><small>Balance</small></th>
									<th></th>
								</tr>
							</thead>
							<tbody>
								<tr th:each="mthc : ${mthcList}" th:if="${mthc.mthcCategory.catCategoryGroup.catgName == catg.catgName}">
									<td width="25" class="align-middle"><a href="#"><small><i class="bi bi-pencil-fill"></i></small></a></td>
									<td nowrap class="col-6"><a class="text-decoration-none" href="#"><span th:text="${mthc.mthcCategory.catName}"></span></a> <i class="bi bi-arrow-up-short text-secondary text-opacity-25"></i><i class="bi bi-arrow-down-short text-secondary text-opacity-25"></i></td>
									<td nowrap class="col-2" align="right" th:text="${bdg.bdgCurrencyPlacement == 1 ? bdg.bdgCurrency.ccySymbol + ' ' : ''} + ${#numbers.formatDecimal(mthc.mthcBudgeted, 1, bdg.bdgNumberFormat.bdgnGroupSeparatorText, bdg.bdgNumberFormat.bdgnDecimalDigits, bdg.bdgNumberFormat.bdgnDecimalSeparatorText)} + ${bdg.bdgCurrencyPlacement == 2 ? ' ' + bdg.bdgCurrency.ccySymbol : ''}"></td>
									<td nowrap class="col-2" align="right" th:text="${bdg.bdgCurrencyPlacement == 1 ? bdg.bdgCurrency.ccySymbol + ' ' : ''} + ${#numbers.formatDecimal(mthc.mthcActivity, 1, bdg.bdgNumberFormat.bdgnGroupSeparatorText, bdg.bdgNumberFormat.bdgnDecimalDigits, bdg.bdgNumberFormat.bdgnDecimalSeparatorText)} + ${bdg.bdgCurrencyPlacement == 2 ? ' ' + bdg.bdgCurrency.ccySymbol : ''}"></td>
									<td nowrap class="col-2" align="right" th:text="${bdg.bdgCurrencyPlacement == 1 ? bdg.bdgCurrency.ccySymbol + ' ' : ''} + ${#numbers.formatDecimal(mthc.mthcBalance, 1, bdg.bdgNumberFormat.bdgnGroupSeparatorText, bdg.bdgNumberFormat.bdgnDecimalDigits, bdg.bdgNumberFormat.bdgnDecimalSeparatorText)} + ${bdg.bdgCurrencyPlacement == 2 ? ' ' + bdg.bdgCurrency.ccySymbol : ''}" th:classappend="${mthc.mthcBalance < 0 ? 'text-danger fw-bold' : ''}"></td>
								</tr>
								<tr th:if="${#lists.isEmpty(mthcList)}" class="text-secondary">
									<td>No categories.</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
				
				<div class="card my-3" th:unless="${#lists.isEmpty(mthcHiddenList)}">
					<div class="card-header py-2"><strong>Hidden Categories</strong></div>
					<div class="card-body py-1">
						<table class="table table-sm table-borderless m-0">
							<tbody>
								<tr th:each="mthcHidden : ${mthcHiddenList}" th:object="${mthcHidden}">
									<td width="25" class="align-middle"><a href="#"><small><i class="bi bi-eye-fill text-secondary"></i></small></a></td>
									<td class="col-12"><span class="text-secondary" th:text="${mthcHidden.mthcCategory.catName}"></span></td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>

			<div class="col-3">
				<button type="button" class="btn btn-outline-secondary btn-sm mt-3">Settings</button>
				<div class="card mt-3">
					<div class="card-header py-2">Budget Properties</div>
					
				</div>
			</div>

		</div>
	</div>


	<div th:replace="app/fragments/script :: script">...</div>

    <script>
        $(document).ready(function () {
            $('#example1').datepicker({
    		    format: "mm/yyyy",
    		    startView: 1,
    		    minViewMode: 1,
    		    maxViewMode: 2
            });
        });
    </script> 

<!-- 	
	<div th:replace="app/fragments/script_datepicker :: script">...</div>
 -->
 

</body>
</html>